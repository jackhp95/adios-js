var Adios=function(t){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function r(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,u=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(e.push(i.value),!n||e.length!==n);r=!0);}catch(t){o=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw u}}return e}(t,n)||u(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var a=function(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},c=function(t){return t.replace(/-./g,(function(t){return t.toUpperCase()[1]}))},l=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return o(new Set(t)).filter((function(t){return e.every((function(n){return n.includes(t)}))}))},f=function(t,n){return n.split(".").reduce((function(t,n){return t&&t[n]}),t)},s=function(t,n,e){return n.split(".").reduce((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,u=o.length;return r+1===u?t[n]=e:null==t?void 0:t[n]}),t)},v=function(t){return t instanceof Element||t instanceof HTMLDocument},d=function t(n){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if(Object(n)!==n)return n;if(u.has(n))return u.get(n);var i=n instanceof Set?new Set(n):n instanceof Map?new Map(Array.from(n,(function(n){var e=r(n,2),o=e[0],i=e[1];return[o,t(i,u)]}))):n instanceof Date?new Date(n):n instanceof RegExp?new RegExp(n.source,n.flags):n.constructor?new n.constructor:Object.create(null);return u.set(n,i),Object.assign.apply(Object,[i].concat(o(Object.keys(n).map((function(r){return e({},r,t(n[r],u))})))))},h=function(t){return"string"==typeof t||t instanceof String},p=function(t){return t&&"object"===n(t)&&!Array.isArray(t)},g=function t(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];if(!o.length)return n;var i=o.shift();if(p(n)&&p(i))for(var a in i)p(i[a])?(n[a]||Object.assign(n,e({},a,{})),t(n[a],i[a])):Object.assign(n,e({},a,i[a]));return t.apply(void 0,[n].concat(o))},y=function(t,n){return void 0===t?n:t},b=function(t){return t};function m(){var t=[],e=[],r=[],u=null,i=function i(a,c,l){var f=c||null,s=l||[{target:a,property:""}];a instanceof Array&&(a.__length=a.length);var v=[],d=function(t,n,e){for(var r="",o=null,u=0;u<s.length;u++)o instanceof Array&&!isNaN(s[u].property)&&(s[u].property=o.indexOf(s[u].target)),r=r+"."+s[u].property,o=s[u].target;return r=(r=r+"."+n).substring(2),!0===e&&(r="/"+r.replace(/\./g,"/")),r},h=function(t){if("undefined"!=typeof requestIdleCallback)requestIdleCallback((function(){if(t===v.length){var n=o(v);v=[],f.observers.forEach((function(t){return t(n)}))}}));else{var n=o(v);v=[],f.observers.forEach((function(t){return t(n)}))}},p={get:function(t,n){if("__getTarget"===n)return t;if("__isProxy"===n)return!0;if("__getParent"===n)return function(t){if(void 0===t)t=1;var n=d(0,"__getParent").split(".");return n.splice(-(t+1),t+1),function(t,n){return n.split(".").reduce((function(t,n){return t?t[n]:void 0}),t||self)}(f.parentProxy,n.join("."))};if("__getPath"===n)return d(0,"__getParent").slice(0,-12);var u=t[n];if(t instanceof Date&&u instanceof Function&&null!==u)return u.bind(t);if(u instanceof Object&&null!==u&&t.hasOwnProperty(n)){if(!0===u.__isProxy&&(u=u.__getTarget),u.__targetPosition>-1&&null!==e[u.__targetPosition])for(var a=r[u.__targetPosition],c=0,l=a.length;c<l;c++)if(f===a[c].observable)return a[c].proxy;var v=o(s);return v.push({target:u,property:n}),i(u,f,v)}return u},deleteProperty:function(t,n){var o=!0;u===y&&(o=!1,u=null);var i=Object.assign({},t);if(v.push({type:"delete",target:t,property:n,newValue:null,previousValue:i[n],currentPath:d(0,n),jsonPointer:d(0,n,!0),proxy:y}),!0===o){f.changesPaused||delete t[n];for(var a=0,c=e.length;a<c&&t!==e[a];a++);for(var l=r[a]||[],s=l.length;s--;)l[s].proxy!==y&&(u=l[s].proxy,delete l[s].proxy[n])}return h(v.length),!0},set:function(t,o,i,a){i&&i.__isProxy&&(i=i.__getTarget);var c=!0;u===y&&(c=!1,u=null);var l=t[o];if(l!==i||!1===c||"length"===o&&t instanceof Array&&t.__length!==i){var s=!0,p=n(l),g="update";if("undefined"===p&&(g="add"),v.push({type:g,target:t,property:o,newValue:i,previousValue:a[o],currentPath:d(0,o),jsonPointer:d(0,o,!0),proxy:y}),"length"===o&&t instanceof Array&&t.__length!==i&&(v[v.length-1].previousValue=t.__length,t.__length=i),!0===c){f.changesPaused||(t[o]=i),s=!1;for(var b=t.__targetPosition,m=r[b].length;m--;)if(f===r[b][m].observable&&null!==e[r[b][m].observable.parentTarget.__targetPosition]){s=!0;break}if(s){for(var j=r[b],_=0,O=j.length;_<O;_++)j[_].proxy!==y&&(u=j[_].proxy,j[_].proxy[o]=i);requestAnimationFrame((function(){return setTimeout((function(){if("object"===p&&null!==l){for(var n=Object.keys(t),o=0,u=n.length;o<u;o++)if(t[n[o]]===l)return;var i=!1;if(function t(n){for(var e=Object.keys(n),r=0,o=e.length;r<o;r++){var u=n[e[r]];if(u instanceof Object&&null!==u&&t(u),u===l)return void(i=!0)}}(t),!0===i)return;!function t(n){for(var o=Object.keys(n),u=0,i=o.length;u<i;u++){var a=n[o[u]];a instanceof Object&&null!==a&&t(a)}var c=-1;for(u=0,i=e.length;u<i;u++)if(n===e[u]){c=u;break}if(c>-1){for(var l=r[c],s=l.length;s--;)if(f===l[s].observable){l.splice(s,1);break}0==l.length&&(e[c]=null)}}(l)}}),0)}))}}s&&h(v.length)}return!0}},g=a.__targetPosition;g>-1||Object.defineProperty(a,"__targetPosition",{value:e.length,writable:!1,enumerable:!1,configurable:!1});var y=new Proxy(a,p);null===f&&(f={parentTarget:a,parentProxy:y,observers:[],paused:!1,path:s,changesPaused:!1},t.push(f));var b={target:a,proxy:y,observable:f};return g>-1?(null===e[g]&&(e[g]=a),r[g].push(b)):(e.push(a),r.push([b])),y};return{create:function(t,n){if(!0===t.__isProxy)t=t.__getTarget;var e=i(t);return"function"==typeof n&&this.observe(e,n),function t(n){for(var e=n.__getTarget,r=Object.keys(e),o=0,u=r.length;o<u;o++){var i=r[o];e[i]instanceof Object&&null!==e[i]&&t(n[i])}}(e),e},observe:function(n,e){for(var r=t.length;r--;)if(t[r].parentProxy===n){t[r].observers.push(e);break}}}}var j=function(t){return{push:function(n,e){return function(){return n[t]=e}},pull:function(n){return n[t]||void 0}}},_=function(t){return{push:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=n.dataset.each,i=Object.keys(e).filter((function(t){return!/^__/.exec(t)})),a=function(){return n.content.firstElementChild.cloneNode(!0)},c=n.parentElement,l=function(){return o(c.children).filter((function(t){return t!==n}))},f=i.map((function(n){var e=a(),i=o(e.querySelectorAll(t.util.selectors()));return[e,i.flatMap((function(e){return Object.entries(e.dataset).filter((function(n){var e=r(n,2),o=e[0];return e[1],Object.keys(t.codecs).includes(o)})).flatMap((function(o){var i=r(o,2),a=i[0],c=i[1],l=c.startsWith("~")?c.substring(1):"".concat(u,".").concat(n,".").concat(c);return e.dataset[a]=l,t.codecs[a].push(e,t.resolver(l))}))}))]})).reduce((function(t,n){var e=r(t,2),u=e[0],i=e[1],a=r(n,2),c=a[0],l=a[1];return[[].concat(o(u),[c]),[].concat(o(i),o(l))]}),[[],[]]),s=r(f,2),v=s[0],d=s[1];return function(){l().forEach((function(t){return t.remove()})),d.map((function(t){return t()})),c.append.apply(c,o(v))}},pull:function(n){var e=n.dataset.each,r={},o=t.util.elements(e,!0),u=Object.keys(t.codecs).filter((function(t){return"each"!==t}));return o.forEach((function(o){l(Object.keys(o.dataset),u).forEach((function(u){var i=t.codecs[u].pull(n),a=o.dataset[u].replace(e+".","");s(r,a,i)}))})),r}}},O=function(t){return{push:function(n,e){return function(){return requestAnimationFrame((function(){var e=t.resolver(n.dataset.src);if(!e)return console.log("No data-src resolved for data-inject to inject",{el:n,src:n.dataset.src,url:e}),function(){};fetch(e).then((function(e){return e.text().catch(console.log).then((function(e){var r,u,i;if(null==n||null===(r=n.nextElementSibling)||void 0===r||null===(u=r.dataset)||void 0===u||!u.injected){var a=document.createElement("div");(i=a.classList).add.apply(i,o(n.classList)),a.innerHTML=e,n.insertAdjacentElement("afterend",a),a.dataset.injected=!0,t.util.hide(n)}}))}))}))}},pull:function(t){var n,e,r;return(null==t||null===(n=t.nextElementSibling)||void 0===n||null===(e=n.dataset)||void 0===e?void 0:e.injected)&&(null==t||null===(r=t.nextElementSibling)||void 0===r?void 0:r.outerHtml)}}},A=function(t){var e=n(t);return"object"===e?function(t){var n=t instanceof HTMLElement&&"element",e=t instanceof Node&&"element",r=t instanceof HTMLElement&&"array";return(null===t?"null":n)||e||r||"object"}(t):e},P=function(t){return function(){return t[A(arguments.length<=0?void 0:arguments[0])].apply(t,arguments)}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?n?'^="'.concat(t,'"'):'="'.concat(t,'"'):""},e=function(){return Object.keys(t.codecs).map(r).join(",")},r=function(n){return"[data-".concat(t.util.asAttr(n),"]")},o=function(e,r){return Object.keys(t.codecs).map((function(o){return"[data-".concat(t.util.asAttr(o)).concat(n(e,r),"]")})).join(",")},u=function(t){return Object.values(t.dataset).map(o).join(",")},i=P({undefined:e,element:u,string:o,object:r}),a={element:u,path:o,codec:r,all:e};return t.util.selectors=Object.assign(i,a),t},S=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(null==n||null===(t=n.config)||void 0===t?void 0:t.root)||document,r=n.util.selectors,u=function(){return o(e.querySelectorAll(r.all.apply(r,arguments)))},i=function(){return o(e.querySelectorAll(r.codec.apply(r,arguments)))},a=function(){return o(e.querySelectorAll(r.path.apply(r,arguments)))},c=function(){return o(e.querySelectorAll(r.element.apply(r,arguments)))},l=function(){return o(e.querySelectorAll(r.apply(void 0,arguments)))},f={element:c,path:a,codec:i,all:u};return n.util.elements=Object.assign(l,f),n},w={is:{},config:{root:document}},E=[function(t){return t.resolver=function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var o=e[0],u=e[1],i={0:function(){return console.error("resolver has no args.")},1:function(){return f(t.is,o)},2:function(){return s(t.is,o,u)},3:function(){return console.error("resolver has 3 or more args:",e)}};return i[Math.min(e.length,3)]()},t},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.util=t.util||{},t.util.asAttr=a,t.util.asProp=c,x(t),S(t),t.util.hide=function(t){return t.hidden=!0},t.util.show=function(t){return t.hidden=!1},t},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.codecs={text:j("textContent"),html:j("innerHTML"),href:j("href"),src:{push:function(t,n){return function(){return h(n)&&n&&(t.src=n)}},pull:function(t){return t.src||void 0}},replace:j("outerHTML"),each:_(t),inject:O(t)},t}].reduce((function(t,n){return n(t)}),w),k=function(){},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;return m().create(t,n)},T=function(t,n){return function(){for(var e={0:function(){return d(t)},1:function(t){return g(t,n)},2:function(t,e){return g(e,f(t,n))}},r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e[o.length].apply(e,o)}},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=f(t,e)||f(t,o)||{},i=M(u,n);return o&&s(t,o,u),r&&s(t,r,T(u,i)),e&&s(t,e,i),i},L=function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log({path:n,be:t.be()});var e=t.util.elements(n,!0),r=function(n){return function(e){var r=n.dataset[e]&&t.resolver(n.dataset[e]);void 0!==r&&queueMicrotask((function(){var o=t.codecs[e].push(n,r);requestAnimationFrame(o)}))}},o=function(n){return n in t.codecs},u=function(t){return Object.keys(t.dataset).filter(o).forEach(r(t))};e.forEach(u)}},C=function(){},H={subtree:!0,childList:!0,attributes:!0},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return function(n){return n.forEach((function(n){return[n.target].concat(o(n.addedNodes)).forEach((function(n){return Promise.resolve().then((function(){return t(v(n)?n:n.parentElement)}))}))}))}},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return new MutationObserver(I(t))},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;return N(n).observe(t,e)},D=function(t){return function(n){l(Object.keys(n.dataset),Object.keys(t.codecs)).forEach((function(e){var r=n.dataset[e],o=(0,t.codecs[e].pull)(n);o===t.resolver(r)||t.resolver(r,o)}))}},F=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return t.pushSet=new Set,t.pusher=function(n){return n.forEach((function(n){var e=n.currentPath;return L(t)(e)}))},t.push=L(t),q(t,t.pusher,"is","be","util.raw"),t}(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return t.puller=D(t),t.pull=function(){return t.util.elements().forEach(t.puller)},t.domobs=V(document,t.puller,H),t.pull(),t}(E))};return t.Adios=F,t.Oath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return{oath:function(n){var e=this;console.log("this",this),n.catch((function(t){return e.err=t})).then((function(n){return n.json().catch((function(t){return e.err=t})).then((function(n){return y(t(n,e.ok),n)})).then((function(t){return e.ok=t}))})).then(console.log)}}},t.default=F,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
